<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>New Form</title>

  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="plugins/fontawesome-free/css/all.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- Tempusdominus Bootstrap 4 -->
  <link rel="stylesheet" href="plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
  <!-- iCheck -->
  <link rel="stylesheet" href="plugins/icheck-bootstrap/icheck-bootstrap.min.css">
  <!-- JQVMap -->
  <link rel="stylesheet" href="plugins/jqvmap/jqvmap.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="dist/css/adminlte.min.css">
  <!-- overlayScrollbars -->
  <link rel="stylesheet" href="plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
  <!-- Daterange picker -->
  <link rel="stylesheet" href="plugins/daterangepicker/daterangepicker.css">
  <!-- summernote -->
  <link rel="stylesheet" href="plugins/summernote/summernote-bs4.min.css">  

  <link rel="stylesheet" href="/public/dist/css/adminlte.css">

  <link rel="stylesheet" href="/public/dist/css/adminlte.css.map">

  <link rel="stylesheet" href="/public/dist/css/adminlte.min.css">

  <link rel="stylesheet" href="/public/dist/css/adminlte.min.css.map">

  <link rel="stylesheet" href="/public/dist/css/">

  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <script>
    function onClick(e) {
      e.preventDefault();
      grecaptcha.enterprise.ready(async () => {
        const token = await grecaptcha.enterprise.execute('6LePUzUqAAAAACn3uL5vANK2JVECdWvfiXIciVgH', {action: 'LOGIN'}); 
      });
    }
  </script>
  </head>

  <style>
    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    main {
      flex-grow: 1;
    }
    header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
    }
    figure {
        margin: 0;
    }
    img {
        max-height: 70px; /* Ensures the images maintain the correct proportions */
    }
    /* g-recaptcha {
  display: block; /* Ensure it's displayed inline-block or block 
  margin-top: 20px; /* Space between the button and the widget 
  text-align: center;  Optional: Center it within the div 
} */

</style>

<header>
  
  <div>
      <figure>
          <img src="pics/cdac-logo.png" alt="CDAC Logo">
      </figure>
  </div>
  <div>
      <figure>
          <img src="pics/logo.png" alt="Logo" width="80" height="70">
      </figure>
  </div>
</header>

<main>
  <form action="/submit-end point" method="post">
<body class="hold-transition sidebar-mini layout-fixed">
  <div class="row"></div>
  <div class="row">
    <div class="col-12 col-sm-12">
      <div class="card card-primary card-tabs">
        <div class="card-header p-0 pt-1">
          <ul class="nav nav-tabs" id="custom-tabs-one-tab" role="tablist">
            <li class="nav-item">
              <a class="nav-link" id="custom-tabs-one-profile-tab" data-toggle="pill" href="#custom-tabs-one-email-page" role="tab" aria-controls="custom-tabs-one-profile" aria-selected="false">Authentication Page</a>
            </li> 
            <li class="nav-item">
              <a class="nav-link" id="custom-tabs-one-profile-tab" data-toggle="pill" href="#custom-tabs-one-landing-page" role="tab" aria-controls="custom-tabs-one-profile" aria-selected="false">Landing Page</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="custom-tabs-one-profile-tab" data-toggle="pill" href="#custom-tabs-one-hosting-page" role="tab" aria-controls="custom-tabs-one-profile" aria-selected="false">Hosting Info</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="custom-tabs-one-messages-tab" data-toggle="pill" href="#custom-tabs-one-department-info" role="tab" aria-controls="custom-tabs-one-messages" aria-selected="false">Department Info</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="custom-tabs-one-settings-tab" data-toggle="pill" href="#custom-tabs-one-contact-info" role="tab" aria-controls="custom-tabs-one-settings" aria-selected="false">Contact Info</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="custom-tabs-one-settings-tab" data-toggle="pill" href="#custom-tabs-one-additional-information" role="tab" aria-controls="custom-tabs-one-settings" aria-selected="false">Additional Info</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="custom-tabs-one-settings-tab" data-toggle="pill" href="#custom-tabs-one-vm-information" role="tab" aria-controls="custom-tabs-one-settings" aria-selected="false">VM Details</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="custom-tabs-one-terms-tab" data-toggle="pill" href="#custom-tabs-one-terms" role="tab" aria-controls="custom-tabs-one-terms" aria-selected="false">Terms and Conditions</a>
           </li>
          
          </ul>
        </div>
        <div class="card-body">
          <div class="tab-content" id="custom-tabs-one-tabContent">
           

            <div class="tab-pane fade show active" id="custom-tabs-one-email-page" role="tabpanel" aria-labelledby="custom-tabs-one-email-page-tab">
              <section id="form1" class="content">
                <div class="container-fluid">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="card card-primary">
                        <div class="card-header">
                          <h3 class="card-title">Authentication Page</h3>
                        </div>
                        <div class="card-body">
                          <div class="form-group">
                            <label for="email">Enter your email address:</label>
                            <input type="email" class="form-control" id="email" placeholder="Email must be an official id ending with .nic.in or .gov.in" required>
                          </div>
                          <button type="button" class="btn btn-primary" onclick="sendCaptcha()">Send CAPTCHA</button>

                          <div id="captchaSection" style="margin-top: 20px; display: none;">
                            <div class="form-group">
                              <label for="captcha">Enter the CAPTCHA sent to your email:</label>
                              <input type="text" class="form-control" id="captcha" placeholder="Enter CAPTCHA" required>
                            </div>
                            <button type="button" class="btn btn-primary" onclick="verifyCaptcha()">Verify CAPTCHA</button>
                          </div>

                          <!-- reCAPTCHA Widget -->
                          <div class="g-recaptcha" data-sitekey="6LePUzUqAAAAACn3uL5vANK2JVECdWvfiXIciVgH" style="margin-top: 20px;"></div>

                          <button type="button" class="btn btn-primary" style="margin-top: 20px;" onclick="showForm2()">Next</button>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            </div>
            


            <div class="tab-pane fade" id="custom-tabs-one-landing-page" role="tabpanel" aria-labelledby="custom-tabs-one-profile-tab">
              <section id="form2" class="content">
                <div class="container-fluid">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="card card-primary">
                        <div class="card-header">
                          <h3 class="card-title">Landing Page</h3>
                        </div>
                        <div class="card-body">
                          <div class="content active">
                            <div class="form-group">
                              <label for="deploymentType">Is your application from the department is already hosted in SDC ?</label>
                              <div class="radio-group">
                                <label><input type="radio" name="deploymentType" value="New" required> Yes</label>
                                <label><input type="radio" name="deploymentType" value="Existing"> No</label>
                              </div>
                            </div>
                            <button type="button" class="btn btn-primary" onclick="showForm1()">Previous</button>
                            <button type="button" class="btn btn-primary" onclick="showForm3()">Next</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            </div>


            <div class="tab-pane fade" id="custom-tabs-one-hosting-page" role="tabpanel" aria-labelledby="custom-tabs-one-profile-tab">
              <section id="form3" class="content">
                <div class="container-fluid">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="card card-primary">
                        <div class="card-header">
                          <h3 class="card-title">Hosting Form</h3>
                        </div>
                        <div class="card-body">
                          <div class="form-group">
                            <label for="appName"> Name of the application: </label>
                            <input type="text" class="form-control" id="appName" placeholder="Enter the name of the application">
                          </div>
                          <div class="form-group">
                            <label for="appdetails"> Details about the application: </label>
                            <input type="text" class="form-control" id="appdetails" placeholder="Give a brief description about the application">
                          </div>
                          <div class="form-group">
                            <label for="langUsed"> Programming Languages used: </label>
                            <textarea class="form-control" id="langUsed" placeholder="Enter the programming languages used with their versions"></textarea>
                          </div>
                          <div class="form-group">
                            <label for="dbUsed"> Databases used: </label>
                            <textarea class="form-control" id="dbUsed" placeholder="Enter the databases used with their versions"></textarea>
                          </div>
                          <div class="form-group">
                            <label for="frameworkUsed"> Any framwork used: </label>
                            <input type="text" class="form-control" id="frameworkUsed" placeholder="Enter the name of the fraework used">
                          </div>
                          <div class="form-group">
                            <label for="appType">Type of Application</label>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox">
                              <label class="form-check-label">Web application</label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" checked="">
                              <label class="form-check-label">Mobile application</label>
                            </div>
                          </div>
                          <button type="button" class="btn btn-primary" onclick="showForm2()">Previous</button>
                          <button type="button" class="btn btn-primary" onclick="showForm4()">Next</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            </div>


            <div class="tab-pane fade" id="custom-tabs-one-department-info" role="tabpanel" aria-labelledby="custom-tabs-one-messages-tab">
              <section id="form4" class="content">
                <div class="container-fluid">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="card card-primary">
                        <div class="card-header">
                          <h3 class="card-title">Department Information</h3>
                        </div>
                        <div class="card-body">
                          <div class="form-group">
                            <label for="deptName">Name of the Department:</label>
                            <input type="text" class="form-control" id="deptName" placeholder="Enter the name of the department">
                          </div>
                          <div class="form-group">
                            <label for="deptEmail">Department Email:</label>
                            <input type="text" class="form-control" id="deptEmail" placeholder="Enter the email address of the department">
                          </div>
                          <div class="form-group">
                            <label for="deptPhNum">Department Phone Number:</label>
                            <input type="tel" class="form-control" id="deptPhNum" placeholder="Enter the phone number of the department">
                          </div>
                          <div class="form-group">
                            <label for="deptAddrs">Department Address: </label>
                            <input type="text" class="form-control" id="deptAddrs" placeholder="Enter the address of the department">
                          </div>
                          <button type="button" class="btn btn-primary" onclick="showForm3()">Previous</button>
                          <button type="button" class="btn btn-primary" onclick="showForm5()">Next</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            </div>


            <div class="tab-pane fade" id="custom-tabs-one-contact-info" role="tabpanel" aria-labelledby="custom-tabs-one-settings-tab">
              <section id="form5" class="content">
                <div class="container-fluid">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="card card-primary">
                        <div class="card-header">
                          <h3 class="card-title">Contact Information</h3>
                        </div>
                        <div class="card-body">
                          <table class="table table-bordered" id="dynamicTable">
                              <thead>
                                  <tr>
                                      <th style="width: 10px">#</th>
                                      <th>Name</th>
                                      <th>Email</th>
                                      <th>Phone Number</th>
                                      <th>Designation</th>
                                      <th>Role</th>
                                      <th>Actions</th>
                                  </tr>
                              </thead>
                              <tbody>
                                  <!-- Dynamic rows will be added here -->
                              </tbody>
                          </table>
                          <button type="button" class="btn btn-primary" onclick="addContactRow()">Add new contact Information</button>
                          
                          <button type="button" class="btn btn-primary" onclick="showForm4()">Previous</button>
                          <button type="button" class="btn btn-primary" onclick="showForm6()">Next</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            </div>


            <div class="tab-pane fade" id="custom-tabs-one-additional-information" role="tabpanel" aria-labelledby="custom-tabs-one-settings-tab">
              <section id="form6" class="content">
                <div class="container-fluid">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="card card-primary">
                        <div class="card-header">
                          <h3 class="card-title">Additional Information</h3>
                        </div>
                        <div class="card-body">
                          <div class="form-group">
                            <div class="form-group">
                              <label for="concurrentUsers">Total number of concurrent connections: </label>
                              <input type="text" class="form-control" id="concurrentUsers" placeholder="Enter the estimated total number of concurrent connections">
                            </div>
                            <div class="form-group">
                              <label for="peakTime">Any peak time of the application: </label>
                              <input type="datetime" class="form-control" id="peakTime" placeholder="(any particular time during the month/year)">
                            </div>
                            <div class="form-group">
                              <label for="loadBalance">Server Load Balancer: </label>
                              <select class="form-control" id="loadBalance">
                                  <option>Yes </option>
                                  <option>No </option>
                              </select>
                            </div>
                            <div class="form-group">
                              <label for="ipv6Compatibility">Ipv6 Compatibility: </label>
                              <select class="form-control" id="ipv6Compatibility">
                                  <option>Yes </option>
                                  <option>No </option>
                              </select>
                            </div>
                            <div class="form-group">
                              <label for="tapeBackup">Tape backup required: </label>
                              <select class="form-control" id="tapeBackup">
                                  <option>Yes </option>
                                  <option>No </option>
                              </select>
                            </div>
                          </div>
                          <button type="button" class="btn btn-primary" onclick="showForm5()">Previous</button>
                          <button type="button" class="btn btn-primary" onclick="showForm7()">Next</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            </div>


            <div class="tab-pane fade" id="custom-tabs-one-vm-information" role="tabpanel" aria-labelledby="custom-tabs-one-settings-tab">
              <section id="form7" class="content">
                <div class="container-fluid">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="card card-primary">
                        <div class="card-header">
                          <h3 class="card-title">Details about the Virtual Machine</h3>
                        </div>
                        <div class="card-body">
                          <table class="table table-bordered" id="dynamicTableVm">
                              <thead>
                                  <tr>
                                      <th style="width: 10px">#</th>
                                      <th>Name of the Virtual Machine</th>
                                      <th>Number of Cpus required</th>
                                      <th>Specify all the services and versions used</th>
                                      <th>OS Version</th>
                                      <th>Storage</th>
                                      <th>Actions</th>
                                  </tr>
                              </thead>
                              <tbody>
                                  <!-- Dynamic rows will be added here -->
                              </tbody>
                          </table>
                          <button type="button" class="btn btn-primary" onclick="addVmRow()">Add VM</button>
                          <button type="button" class="btn btn-primary" onclick="showForm6()">Previous</button>
                          <button type="button" class="btn btn-primary" onclick="showForm8()">Next</button>
                      </div>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            </div>


          <div class="tab-pane fade" id="custom-tabs-one-terms" role="tabpanel" aria-labelledby="custom-tabs-one-terms-tab">
            <section id="form8" class="content">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card card-primary">
                                <div class="card-header">
                                    <h3 class="card-title">Terms and Conditions</h3>
                                </div>
                                <div class="card-body">
                                    <div class="form-group">
                                        <label for="termsConditions">Please read and accept the terms and conditions:</label>
                                        <div class="form-control" id="termsConditions" style="overflow-y: auto; height: 400px;" readonly>
                                          <!-- <div class="form-control" id="termsConditions" rows="10" readonly> -->
                                          <h1>Terms and Conditions for the Virtual-Hosting</h1>
                                          <div>
                                              <ol>
                                                  <li>
                                                       The department shall maintain technical documentation including Software application Architecture document. The architecture document should include application details such as Application Overview and functionalities, Component architecture diagram showing inter dependencies and any external dependencies, technology used, deployment architecture, deployment configurations, revision history of document etc. Updates to the document should  be versioned as separate versions and maintained. The architecture document shall be shared in print along with the hosting request form or mauiled to...............to respective SDC's email id's.   
                                                  </li>
                                                  <li>
                                                       The application will be hosted under Staging Server for a period of ................. from the date of presenting the filled application form for conducting Security Audit. If the process is not completed in the .............., the application will be deallocated from Staging Server without prior intimation.    
                                                  </li>
                                                  <li>
                                                       Security auditing of the application by any CERT-In empaneled agency has to be carried out in the hosting environment. A copy of the security certificate shall be provided to the SDC. The SDC should allow hosting on production servers only after receiving security audit certificates (safe to host certificate) which needs to be maintained in records.  
                                                  </li>
                                                  <li>
                                                      Due to stringent security policy implemented in the server, some of the functionalities of the application may not work as expected. All functionalitiesof the web application should be validated in the staging server.
                                                  </li>
                                                  <li>
                                                      JKSDC has set a maximum space limitation on Web / Application to ............ and Db Storage limitation to ............. for all departments for VM which can be increased upon usage.
                                                  </li>
                                                  <li>
                                                      Access to the Database server will only be given from the application server. The database server cannot be accessed directly from Internet.
                                                  </li>
                                                  <li>
                                                      Application level security is solely under the privilege of the department. It is the Department/authorized vendor's responsibility to tighten the security of the application. By the above condition, it should be accepted that the department shall take the following measures:
                                                  </li>
                                              </ol>
                                              The Department shall be commited to maintaining the security of its own application. Application Security needs to be a significant consideration during the development of any software. Additionally, security patches post production also needs to be factored into the contract with the application development vendor.
                                      
                                              Have maintenance contract such that technical support is available at any point of time to address any request for enhancement, upgrades, security remediation, migration and testing of the application. Upgrades/patches are frequently released by vendors/open communities for any software (including operating Sysytem, Database, Application Server, Programming technology such as Java, various code frameworks and commercial/open source libraries and components) to address added functionalities as well as security vulnerabilities. It is the responsibility of the application support team of the department to proactively identify patches to any tecnologies/ components used in the application and apply these after proper testing.
                                      
                                              Periodic security auditing is necessary. The department shall get the sites audited once every 2 years by a CERT-IN empaneled agency. If an application is developed in an agile manner such that enhancements to the application are rolled out frequently, the department is required to have Security Audites done by a CERT-In empaneled agency once every 6 months. 
                                          </div>
                                          <div>
                                              <strong>
                                                  <i>
                                                      Once audited and hosting, the Department / Technical Lead shall raise a Change Request (CR) and submit the CR form to SDC if any subsequent change is to be made on the application including any configuration change or patch application. 
                                                  </i>
                                              </strong>
                                              Updated Software Application Architecture Document also needs to be submitted. The Change Advisory Board shall verify the technical changes and evaluate if a subsequent security audit is required before the changes are deployed on the production server.
                                              <ul>
                                                  <li>
                                                      If any change to the application is depolyed without intimation to the SDC, the CEO jaKeGa reserves the right to de-allocate domain name and pull down the website.
                                                  </li>
                                                  <li>
                                                      As per the Data Center policy, there is a limit for maximum resource allocation of servers, and we can able to increase the same based on the utilization and requirements.
                                                  </li>
                                                  <li>
                                                      Customer should not change or customize any IP / network configuration without informing Data center team. 
                                                  </li>
                                                  <li>
                                                      While performing the hardening process, kindly exclude all cloud and monitoring services running in the server. These cloud services must be required for the communication between the VM and Cloud Management Portal.
                                                  </li>
                                                  <li>
                                                      As per the security policy, it is mandatory that all the Cloud applications should undergo Security Audit by authorized agencies and present audit clearance certificate to SDC before going live.
                                                  </li>
                                                  <li>
                                                      Customer need to provide additional request for configuring backup for the server if required.
                                                  </li>
                                                  <li>
                                                      Data center team will not be responsible for any application related configuration or troubleshooting process.
                                                  </li>
                                                  <li>
                                                      Upon identificaton of any security compromise from the application, SDC/JaKeGA will have the complete right to block the application.In order to regain access to the application software, the department will have to get the application re-audited before going online again.
                                                  </li>
                                                  <li>
                                                      CEO JaKeGA is authorised to order de-allocation of the domain name and pull down Government web sites if security level of the site is found to be insufficient at any point of time. 
                                                  </li>
                                                  <li>
                                                      The department is required to submit any application logs and dumps that are required by CERT-In for any analysis.
                                                  </li>
                                                  <li>
                                                      Contents of the websites/applications shall not be against the interest and reputation of Government of Jammu and Kashmir.
                                                  </li>
                                                  <li>
                                                      As per of application level security, it is mandatory that the Department ensures a strict password policy. If any hacking occurs due to vulnerability present in the application, the Department will be held responsible for compromising the security of the server.
                                                  </li>
                                                  <li>
                                                      The expense required for any technology upgrade for the purpose of hosting at SDC shall be met by the Department concered.
                                                  </li>
                                                  <li>
                                                      JKSDC has the rights to either suspend or terminate the website or move the website to anotrher server without any notice if the website is found to cause huge load on the server and thus interrupting the normal functioning of the server or other websites. 
                                                  </li>
                                                  <li>
                                                      Any change in Techincal Represenatatives must be intimated to JKSDC. Prior approval of JKSDC must be taken for any kind of planned activities like VAPT of the application.
                                                  </li>
                                                  <li>
                                                      JKSDC has the rights to decommision the unutilised VM's for a period of 4 Months.
                                                  </li>
                                              </ul>
                                              <strong>
                                                  NOTWITHSTANDING, BY USING THE SERVICES YOU ACKNOWLEDGE THAT YOU HAVE READ THIS AGREEMENT AND AGREE TO BE BOUND BY THE TERMS AND CONDITIONS CONTAINED HEREIN INCORPORATED BY REFERNCE. 
                                              </strong>
                                              <div>
                                                  Signature of technical lead with seal
                                              </div>
                                              <div>
                                                  Signature & Seal of Approving Authority 
                                              </div>
                                              <div>
                                                  Date: 
                                              </div>
                                          </div>. 
                                        </div>
                                    </div>
                                    <div class="form-group form-check">
                                        <input type="checkbox" class="form-check-input" id="acceptTerms">
                                        <label class="form-check-label" for="acceptTerms">I accept the terms and conditions</label>
                                    </div>
                                </div>
                                <div class="card-footer">
                                    <button type="button" class="btn btn-primary" onclick="showForm7()">Previous</button>
                                    <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                                    <button type="button" class="btn btn-primary" onclick="submitForm()">Submit</button>
                                </div>
                            </div>
                        </div>

                    <!-- </div> -->
                </div>
                </div>
            </section>
        </div>
        
          
          </div>
        </div>
        <!-- /.card -->
      </div>
    </div>
  </form>
  </main>


<!-- jQuery -->
<script src="plugins/jquery/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="plugins/jquery-ui/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
  $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- ChartJS -->
<script src="plugins/chart.js/Chart.min.js"></script>
<!-- Sparkline -->
<script src="plugins/sparklines/sparkline.js"></script>
<!-- JQVMap -->
<script src="plugins/jqvmap/jquery.vmap.min.js"></script>
<script src="plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
<!-- jQuery Knob Chart -->
<script src="plugins/jquery-knob/jquery.knob.min.js"></script>
<!-- daterangepicker -->
<script src="plugins/moment/moment.min.js"></script>
<script src="plugins/daterangepicker/daterangepicker.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Summernote -->
<script src="plugins/summernote/summernote-bs4.min.js"></script>
<!-- overlayScrollbars -->
<script src="plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
<!-- AdminLTE App -->
<script src="dist/js/adminlte.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="dist/js/demo.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<!-- <script src="dist/js/pages/dashboard.js"></script> -->
<!-- Custom Script -->
<script>





function showTab(index) {
    const tabLinks = document.querySelectorAll('#custom-tabs-one-tab .nav-link');
    const tabContents = document.querySelectorAll('#custom-tabs-one-tabContent .tab-pane');

    // Remove active class from all tabs and contents
    tabLinks.forEach((link) => link.classList.remove('active'));
    tabContents.forEach((content) => content.classList.remove('active', 'show'));

    // Add active class to the selected tab and content
    tabLinks[index].classList.add('active');
    tabContents[index].classList.add('active', 'show');
}

function showForm1() { showTab(0); }
function showForm2() { showTab(1); }
function showForm3() { showTab(2); }
function showForm4() { showTab(3); }
function showForm5() { showTab(4); }
function showForm6() { showTab(5); }
function showForm7() { showTab(6); }
function showForm8() { showTab(7); }



// send email and captcha
async function sendCaptcha() {
    try {
        const email = document.getElementById('email').value;
        if (!email) {
            alert('Please enter your email.');
            return;
        }

        // Send email to server to generate and send CAPTCHA (implement server-side logic)
        const response = await fetch('/send-captcha', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ email })
        });

        if (response.ok) {
            alert('CAPTCHA has been sent to your email.');
            document.getElementById('captchaSection').style.display = 'block';
        } else {
            alert('Failed to send CAPTCHA.');
        }
    } catch (error) {
        console.error('Error:', error);
        alert('An error occurred while sending CAPTCHA.');
    }
}

async function verifyCaptcha() {
    try {
        const email = document.getElementById('email').value;
        const captcha = document.getElementById('captcha').value;
        if (!captcha) {
            alert('Please enter the CAPTCHA.');
            return;
        }

        // Verify CAPTCHA on server (implement server-side logic)
        const response = await fetch('/verify-captcha', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ email, captcha })
        });

        if (response.ok) {
            alert('CAPTCHA verified successfully!');
            // Redirect to the next page or allow access
        } else {
            alert('CAPTCHA verification failed.');
        }
    } catch (error) {
        console.error('Error:', error);
        alert('An error occurred during CAPTCHA verification.');
    }
}

// email regex for accepting only official emails
function sendCaptcha() {
    const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.(nic|gov|cdac)\.in$/;
    const email = document.getElementById('email').value;

    if (emailPattern.test(email)) {
        // Email is valid
        console.log('Valid email');
        alert('CAPTCHA sent to your email address.');
        
        // Display the CAPTCHA section for user input
        document.getElementById('captchaSection').style.display = 'block';
    } else {
        // Email is invalid
        console.log('Invalid email');
        alert('Please enter a valid email ending with .nic.in or .gov.in');
    }
}

function verifyCaptcha() {
    // Logic to verify CAPTCHA goes here
    alert('CAPTCHA verified.');
}



 //  js of contact information table
 let contactRowCount = 0;


function addContactRow() {
   contactRowCount++;
    const table = document.getElementById("dynamicTable").getElementsByTagName('tbody')[0];
    const newRow = table.insertRow();

    newRow.innerHTML = `
        <td>${contactRowCount}.</td>
        <td><input type="text" name="contactName[]" class="form-control" required></td>
        <td><input type="email" name="contactEmail[]" class="form-control" required></td>
        <td><input type="tel" name="contactPhNum[]" class="form-control" required></td>
        <td><input type="text" name="contactDesignation[]" class="form-control" required></td>
        <td>
            <select class="custom-select" name="contactRole[]" required>
                <option value="">Select Role</option>
                <option value="Administrator">Administrator</option>
                <option value="Technical">Technical</option>
                <option value="Developer">Developer</option>
            </select>
        </td>
        <td><button type="button" class="btn btn-danger" onclick="removeContactRow(this)">Remove</button></td>  
    `;
}

function removeContactRow(button) {
    const row = button.parentNode.parentNode;
    row.parentNode.removeChild(row);
    updateContactRowNumbers();
}

function updateContactRowNumbers() {
    const rows = document.getElementById("dynamicTable").getElementsByTagName('tbody')[0].rows;
    for (let i = 0; i < rows.length; i++) {
        rows[i].cells[0].innerText = `${i + 1}.`;
    }
    contactRowCount = rows.length;
}
  // js of vm info table 
let vmRowCount = 0;
function addVmRow() {
    vmRowCount++;
    const table = document.getElementById("dynamicTableVm").getElementsByTagName('tbody')[0];
    const newRow = table.insertRow();

    newRow.innerHTML = `
        <td>${vmRowCount}.</td>
        <td><input type="text" name="vmName[]" class="form-control" required></td>
        <td><input type="number" name="cpuCount[]" class="form-control" required></td>
        <td><input type="text" name="servicesVersions[]" class="form-control" required></td>
        <td><input type="text" name="osVersion[]" class="form-control" required></td>
        <td><input type="text" name="storage[]" class="form-control" required></td>
        <td><button type="button" class="btn btn-danger" onclick="removeVmRow(this)">Remove</button></td>
    `;
}

function removeVmRow(button) {
    const row = button.parentNode.parentNode;
    row.parentNode.removeChild(row);
    updateVmRowNumbers();
}

function updateVmRowNumbers() {
    const rows = document.getElementById("dynamicTableVm").getElementsByTagName('tbody')[0].rows;
    for (let i = 0; i < rows.length; i++) {
        rows[i].cells[0].innerText = `${i + 1}.`;
    }
    vmRowCount = rows.length;
}


  // function submitFormss() {
  //   alert("Form Submitted Successfully!");
  // } 
  async function submitForm() {
    try {
        // Gather form data
        const formData = new FormData();

        // Collect data from Landing Page
        const deploymentType = document.querySelector('input[name="deploymentType"]:checked');
        if (deploymentType) {
            formData.append('deploymentType', deploymentType.value);
        }

        // Collect data from Hosting Form
        formData.append('appName', document.getElementById('appName').value);
        formData.append('appdetails', document.getElementById('appdetails').value);
        formData.append('langUsed', document.getElementById('langUsed').value);
        formData.append('dbUsed', document.getElementById('dbUsed').value);
        formData.append('frameworkUsed', document.getElementById('frameworkUsed').value);
        // You can collect the type of application similarly by iterating through checkboxes if needed

        // Collect data from Department Information
        formData.append('deptName', document.getElementById('deptName').value);
        formData.append('deptEmail', document.getElementById('deptEmail').value);
        formData.append('deptPhNum', document.getElementById('deptPhNum').value);
        formData.append('deptAddrs', document.getElementById('deptAddrs').value);

        // Collect data from Contact Information table
        const contactRows = document.getElementById('dynamicTable').getElementsByTagName('tbody')[0].rows;
        for (let i = 0; i < contactRows.length; i++) {
            formData.append('contactName[]', contactRows[i].querySelector('input[name="contactName[]"]').value);
            formData.append('contactEmail[]', contactRows[i].querySelector('input[name="contactEmail[]"]').value);
            formData.append('contactPhNum[]', contactRows[i].querySelector('input[name="contactPhNum[]"]').value);
            formData.append('contactDesignation[]', contactRows[i].querySelector('input[name="contactDesignation[]"]').value);
            formData.append('contactRole[]', contactRows[i].querySelector('select[name="contactRole[]"]').value);
        }

        // Collect data from Additional Information
        formData.append('concurrentUsers', document.getElementById('concurrentUsers').value);
        formData.append('peakTime', document.getElementById('peakTime').value);
        formData.append('loadBalance', document.getElementById('loadBalance').value);
        formData.append('ipv6Compatibility', document.getElementById('ipv6Compatibility').value);
        formData.append('tapeBackup', document.getElementById('tapeBackup').value);

        // Collect data from VM Information table
        const vmRows = document.getElementById('dynamicTableVm').getElementsByTagName('tbody')[0].rows;
        for (let i = 0; i < vmRows.length; i++) {
            formData.append('vmName[]', vmRows[i].querySelector('input[name="vmName[]"]').value);
            formData.append('cpuCount[]', vmRows[i].querySelector('input[name="cpuCount[]"]').value);
            formData.append('servicesVersions[]', vmRows[i].querySelector('input[name="servicesVersions[]"]').value);
            formData.append('osVersion[]', vmRows[i].querySelector('input[name="osVersion[]"]').value);
            formData.append('storage[]', vmRows[i].querySelector('input[name="storage[]"]').value);
        }

        // Log formData for debugging (optional)
        for (let pair of formData.entries()) {
            console.log(pair[0] + ': ' + pair[1]);
        }

        // Make an HTTP request to submit the form data
        const response = await fetch('/submit-form-endpoint', {
            method: 'POST',
            body: formData
        });

        if (response.ok) {
            alert("Form Submitted Successfully!");
            // Optionally, redirect to a success page or reset the form
        } else {
            alert("Failed to submit the form.");
        }

    } catch (error) {
        console.error('Error:', error);
        alert("An error occurred during form submission.");
    }
}
//to catch the error
const element = document.getElementById('elementID');
if (element) {
    // Access element.value or other properties
} else {
    console.error('Element not found');
}

  function submitForm() {
    const acceptTerms = document.getElementById('acceptTerms');
    if (!acceptTerms.checked) {
        alert('You must accept the terms and conditions before submitting the form.');
        return;
    }
    // Proceed with form submission
    alert('Form submitted successfully!');
}
app.post('/submit-form-endpoint', (req, res) => {
    // Handle form submission here
    res.send('Form submitted successfully');
});

</script>
</body>
<footer class="main-footer"> <strong>Copyright &copy; 2024 Designed and developed by C-DAC Thiruvananthapuram </strong>
  All rights reserved.
  <div class="float-right d-none d-sm-inline-block">  
    <b>Version</b> 1.0.0
  </div>
</footer>
</html>
